(function(){"use strict";window.onload=()=>{history.scrollRestoration&&(history.scrollRestoration="manual")};const a=document.querySelector(".navbar"),m=document.querySelector(".nav-menu"),P=document.querySelector(".nav-main"),f=document.querySelector(".nav-secondary"),h=document.querySelector("footer"),S=document.querySelector(".nav-logo-link"),F={},g=gsap.matchMedia();let N=window.innerWidth,p,b,x,L,M=new Map,d=!1,E=!1,w=null,q=null,v=null,k=null,C=!1,H=!1,O=!1;gsap.registerPlugin(ScrollTrigger);const l=new Lenis({prevent:e=>["nav-secondary","nav-main","newsletter-container","contact-modal4_component"].some(t=>e.classList.contains(t))});l.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{l.raf(e*1e3)}),gsap.ticker.lagSmoothing(0),document.addEventListener("click",e=>{const t=e.target.closest("a[href]");t&&t.href===window.location.href&&(e.preventDefault(),e.stopPropagation(),E?gsap.to(m,{autoAlpha:0,duration:.6,ease:"power2.out",onStart:()=>{d&&(d=!1,b.reverse("cross"))}}):d&&(d=!1,b.reverse()))}),barba.use(barbaPrefetch),barba.init({timeout:2e4,preventRunning:!0,transitions:[{name:"preloader",beforeOnce(e){We();const t=e.next.container.querySelector(".exely-wrapper");if(t){const r=t.getAttribute("data-initialize");r==="immediate"?_(e.next.container):r==="on-scroll"&&(H=!0)}k=()=>{ie(e)},window.addEventListener("scroll",k,{once:!0});const o=window.site.brandColor,n=window.site.textColor;o&&(gsap.set("body",{background:o}),n&&console.log(`%c${organizationName||"Sharlopov Hotels"}`,`background: ${o}; color: ${n}; display: block; padding: 4px 8px;`)),p=gsap.timeline({delay:.3,onComplete:()=>{ge()}}),ue(),V(),T(()=>ae()),T(()=>G(e.next.container)),p.to(S,{autoAlpha:1,duration:.6,ease:"power2.out",onStart:()=>{gsap.set(".logo-nav",{transition:"none"}),a==null||a.setAttribute("preloader","")},onComplete:()=>{gsap.set(".logo-nav",{clearProps:"all"})}}),w=e.next.container.querySelector(".breadcrumbs"),qe()},once(){var n,r;l&&l.scrollTo(0,{immediate:!0}),window.scrollTo({top:0,left:0,behavior:"instant"});const t=window.innerWidth<=479?(n=window.site)==null?void 0:n.logoWidthMobile:(r=window.site)==null?void 0:r.logoWidth;p.to(S,{delay:.15,y:0,width:t,duration:1.2,ease:"circ.inOut",onStart:()=>{gsap.delayedCall(.6,()=>{a==null||a.removeAttribute("preloader")})},onComplete:()=>{gsap.set(S,{clearProps:"all"}),gsap.set(S,{autoAlpha:1})}}).to(".preloader",{yPercent:-105,duration:1.2,ease:"circ.inOut",onStart:()=>{const i=document.querySelector("header video");i&&(i.pause(),i.currentTime=0,i.load())},onComplete:()=>{gsap.set(".preloader",{display:"none"}),gsap.to("body",{background:"#ffffff",duration:.6,ease:"power2.out",onComplete:()=>{gsap.set("body",{background:"#ffffff !important"})}})}},"<");const o=document.querySelector("header [class*='background-image-wrapper']");o&&(o.parentElement&&gsap.set(o.parentElement,{overflow:"hidden"}),gsap.set("header [class*='background-image-wrapper']",{scale:1.2}),p.to("header [class*='background-image-wrapper']",{scale:1,duration:1.5,ease:"circ.out"},"<"))},afterOnce(){ce(),gsap.delayedCall(12,()=>{te();const e=new MutationObserver(()=>te());e.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{e.disconnect()},5e3)})}}]}),barba.hooks.beforeLeave(e=>{q&&(q.destroy(),q=null),v&&(v.destroy(),v=null);const t=e.current.container.querySelector(".exely-wrapper");t&&t.remove(),Fe()}),barba.hooks.leave(e=>{gsap.killTweensOf(e.current.container)}),barba.hooks.beforeEnter(e=>{C||(k&&window.removeEventListener("scroll",k),k=()=>{ie(e)},window.addEventListener("scroll",k,{once:!0})),le(e.next.container),w=e.next.container.querySelector(".breadcrumbs"),E?gsap.to(m,{autoAlpha:0,duration:.6,ease:"power2.out",onStart:()=>{d&&(d=!1,b.reverse("cross"))}}):d&&(d=!1,b.reverse()),w&&gsap.to(w,{autoAlpha:1,duration:.6,ease:"power2.out"}),p&&(p.kill(),p=null),p=gsap.timeline({onStart:ScrollTrigger.refresh}),V(),G(e.next.container);const t=document.querySelector(".back-to-top");t&&K(t),_(e.next.container),Y(e.next.container);const o=e.next.container.querySelector("header [class*='background-image-wrapper']");o&&(o.parentElement&&gsap.set(o.parentElement,{overflow:"hidden"}),gsap.set("header [class*='background-image-wrapper']",{scale:1.2}),p.to("header [class*='background-image-wrapper']",{scale:1,duration:1.5,ease:"circ.out"},"<")),ScrollTrigger.clearScrollMemory("manual"),l&&l.scrollTo(0,{immediate:!0}),window.scrollTo({top:0,left:0,behavior:"instant"})}),barba.hooks.afterEnter(e=>{l&&l.scrollTo(0,{immediate:!0}),window.scrollTo({top:0,left:0,behavior:"instant"});const t={en:(e.next.html.match(/<a[^>]+hreflang="en"[^>]+href="([^"]+)"/)||[])[1],bg:(e.next.html.match(/<a[^>]+hreflang="bg"[^>]+href="([^"]+)"/)||[])[1]};gsap.utils.toArray(".nav-main .locales-wrapper a.locale").forEach(n=>{const r=n.getAttribute("hreflang");r&&t[r]&&n.setAttribute("href",t[r])}),he(),e.next.container.querySelector(".swiper")&&(C&&!O?re("https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js",{"swiper-js-code":""}).then(()=>{O=!0,D(e)}):D(e))}),barba.hooks.after(e=>{_e(e)});function ae(){const e=document.querySelector('link[data-theme="light"]'),t=document.querySelector('link[data-theme="dark"]'),o=e==null?void 0:e.href,n=t==null?void 0:t.href;e==null||e.remove(),t==null||t.remove(),g.add({colorSchemeNoPreference:"(prefers-color-scheme:no-preference)",colorSchemeDark:"(prefers-color-scheme:dark)",colorSchemeLight:"(prefers-color-scheme:light)"},r=>{const{colorSchemeNoPreference:i,colorSchemeDark:s,colorSchemeLight:c}=r.conditions,u=document.querySelector('link[rel="shortcut icon"]');if(u)return u.href=i||c?o:n,()=>{}})}function ce(){p.to(".nav-menu-button-wrapper, .button-group_nav",{y:0,duration:.6,ease:"power2.out"}),w&&p.to(w,{autoAlpha:1,duration:.6,ease:"power2.out"})}function le(e){const t=e.hasAttribute("navbar-light")?"0":"1";a==null||a.setAttribute("data-dark",t)}function ue(){var i,s,c,u,se;fe(),document.querySelector(".nav-wrapper");const e=window.innerWidth<=479,t=e?(i=window.site)==null?void 0:i.logoHeightMobile:(s=window.site)==null?void 0:s.logoHeight,o=e?(c=window.site)==null?void 0:c.logoWidthMobile:(u=window.site)==null?void 0:u.logoWidth,n=(se=window.site)==null?void 0:se.navWrapperPaddingTop;let r=(window.innerHeight-t*2)/2-n;g.add({isDesktop:"(min-width: 992px)",isTablet:"(max-width: 991px) and (min-width: 479px)",isMobileLandscape:"(max-width: 991px) and (orientation: landscape)",isMobile:"(max-width: 478px)"},Ne=>{const{isDesktop:$e}=Ne.conditions;return $e||(r-=8),()=>{}}),gsap.set(S,{y:r,width:o*2,pointerEvents:"none",position:"fixed",left:"50%",xPercent:-50})}function de(){g.add({isDesktop:"(min-width: 992px)",isTablet:"(max-width: 991px) and (min-width: 479px)",isMobileLandscape:"(max-width: 991px) and (orientation: landscape)",isMobile:"(max-width: 478px)",reduceMotion:"(prefers-reduced-motion: reduce)",hasFinePointer:"(any-pointer: fine)"},e=>{const{isDesktop:t,hasFinePointer:o}=e.conditions;return t&&o&&(x=pe(),gsap.set(".nav-secondary-list-wrapper",{display:"none",autoAlpha:1,yPercent:0}),gsap.utils.toArray(".nav-link[data-menu]").forEach(r=>{r.addEventListener("mouseenter",z),r.addEventListener("mouseleave",j)}),f.addEventListener("mouseleave",B)),()=>{gsap.utils.toArray(".nav-link[data-menu]").forEach(r=>{r.removeEventListener("mouseenter",z),r.removeEventListener("mouseleave",j)}),f.removeEventListener("mouseleave",B)}})}function z(e){const t=e.currentTarget,o=document.querySelector(".nav-secondary-list-wrapper[active]"),n=t==null?void 0:t.getAttribute("data-menu"),r=document.querySelector(`.nav-secondary-list-wrapper[data-menu="${n}"]`);if((o==null?void 0:o.getAttribute("data-menu"))===n)return;clearTimeout(M.get(t));const i=setTimeout(()=>{const s=document.querySelector(".nav-link[active]");s==null||s.removeAttribute("active"),o?U(()=>{t==null||t.setAttribute("active",""),r==null||r.setAttribute("active",""),I()}):(t==null||t.setAttribute("active",""),r==null||r.setAttribute("active",""),E?I():x.play())},250);M.set(t,i)}function j(e){const t=e.currentTarget;clearTimeout(M.get(t)),B()}function U(e){E=!1;const t=document.querySelector(".nav-secondary-list-wrapper[active]");gsap.to(t,{autoAlpha:0,yPercent:-10,duration:.3,ease:"power2.in",onStart:()=>{const o=document.querySelector(".nav-link[active]");o==null||o.removeAttribute("active")},onComplete:()=>{gsap.set(t,{display:"none"}),t==null||t.removeAttribute("active"),e&&e()}})}function I(){E=!0,f.scrollTo({top:0,left:0,behavior:"instant"});const e=document.querySelector(".nav-secondary-list-wrapper[active]");if(!e)return;gsap.set(e,{display:"block",autoAlpha:1,yPercent:0});const t=e.querySelectorAll(".nav-secondary-item");gsap.set(t,{autoAlpha:0,yPercent:25}),gsap.to(t,{autoAlpha:1,yPercent:0,duration:.3,ease:"power2.out",stagger:{each:.06}})}function B(){setTimeout(()=>{!document.querySelector(".nav-link[data-menu]:hover")&&!f.matches(":hover")&&(E?U(()=>{x.reverse()}):x.reverse())},250)}function pe(){const t="circ.inOut",o=gsap.timeline({paused:!0,onComplete:()=>{I()},onReverseComplete:()=>{const n=document.querySelector(".nav-link[active]");n==null||n.removeAttribute("active");const r=document.querySelector(".nav-secondary-list-wrapper[active]");r==null||r.removeAttribute("active")}});return o.set(f,{display:"none"}).set(f,{display:"block",xPercent:-100}).set(m,{zIndex:0}).set(m,{zIndex:3}).to(f,{xPercent:0,duration:.6,ease:t}),o}function me(){const t="circ.inOut",o="power2.out",n=gsap.timeline({paused:!0,onStart:()=>{l&&l.stop(),w&&gsap.to(w,{autoAlpha:0,duration:.3,ease:t})},onReverseComplete:()=>{a==null||a.removeAttribute("menu-open"),a==null||a.removeAttribute("menu-open-mobile"),l&&l.start(),w&&gsap.to(w,{autoAlpha:1,duration:.3,ease:t})}}),r=document.querySelector(".nav-menu-button");return g.add({isDesktop:"(min-width: 992px)",isTablet:"(max-width: 991px) and (min-width: 479px)",isMobileLandscape:"(max-width: 991px) and (orientation: landscape)",isMobile:"(max-width: 478px)",reduceMotion:"(prefers-reduced-motion: reduce)"},i=>{const{isDesktop:s}=i.conditions;return d?s?a==null||a.setAttribute("menu-open",""):a==null||a.setAttribute("menu-open-mobile",""):(a==null||a.removeAttribute("menu-open"),a==null||a.removeAttribute("menu-open-mobile")),n.invalidate(),n.set(m,{display:"none",autoAlpha:0}).set(m,{display:"block",autoAlpha:1,xPercent:s?-100:null,yPercent:s?null:-100}).set(".nav-overlay",{display:"block",autoAlpha:0}).set(".nav-link",{autoAlpha:0,yPercent:100}).set(".nav-menu-footer",{autoAlpha:0,yPercent:100}).set(S,{left:0,xPercent:0}).set(S,{left:"50%",xPercent:-50}).set(".nav-menu-button-wrapper",{position:"relative"}).set(".nav-menu-button-wrapper",{position:"absolute"}).to(m,{xPercent:s?0:null,yPercent:s?null:0,duration:.6,ease:t}).to(".nav-overlay",{autoAlpha:1,duration:.6/2,ease:o},.6/2).set(".nav-menu-text",{display:"inline-flex"}).to(".nav-menu-text",{autoAlpha:0,duration:.6/2,ease:t,onComplete:()=>{s?a==null||a.setAttribute("menu-open",""):a==null||a.setAttribute("menu-open-mobile","")}},0).set(".nav-menu-text",{display:"none"}).to(".nav-menu-line:nth-of-type(1)",{y:6,duration:.6/2,ease:t},0).to(".nav-menu-line:nth-of-type(2)",{autoAlpha:0,duration:.6/2,ease:t},0).to(".nav-menu-line:nth-of-type(3)",{y:-6,duration:.6/2,ease:t},0).to(".nav-menu-line:nth-of-type(1)",{rotateZ:45,duration:.6/2,ease:t},.6/2).to(".nav-menu-line:nth-of-type(3)",{rotateZ:-45,duration:.6/2,ease:t,onStart:()=>{const c=window.location.pathname.includes("/en")?"Close":"Затвори";r.title=c},onReverseComplete:()=>{const c=window.location.pathname.includes("/en")?"Menu":"Меню";r.title=c,a==null||a.removeAttribute("menu-open"),a==null||a.removeAttribute("menu-open-mobile")}},.6/2).addLabel("cross",">").to(".nav-link, .nav-menu-footer",{autoAlpha:1,yPercent:0,duration:.6/2,ease:o,stagger:{each:.06},onReverseComplete:()=>{a==null||a.removeAttribute("menu-open"),a==null||a.removeAttribute("menu-open-mobile")}}),()=>{}}),n}function fe(){const e=document.querySelector(".nav-menu-button"),t=window.location.pathname.includes("/en")?"Menu":"Меню",o=y(e,t);let n=!1,r=!1;o.addEventListener("click",()=>{var i;if(!n){n=!0,b=me();const s=(i=document.querySelector(".nav-main .locales-wrapper .w--current"))==null?void 0:i.parentElement;s&&gsap.set(s,{display:"none"}),m==null||m.addEventListener("click",c=>{P!=null&&P.contains(c.target)||f!=null&&f.contains(c.target)||d&&(d=!1,b.reverse())})}r||(r=!0,de(),W(".nav-secondary-item")),d?b.reverse():b.play(),d=!d})}function he(){g.add("(prefers-reduced-motion: no-preference)",()=>{const e=gsap.utils.toArray("header .content, header p, header .button, header .button_icon, header .exely-wrapper");return e.length>0&&p.to(e,{yPercent:0,autoAlpha:1,duration:.6,ease:"power2.out",stagger:{each:.2},onComplete:()=>{}},"<"),()=>{}})}function V(){g.add("(prefers-reduced-motion: no-preference)",()=>{const e="header h1, header h2, header h3, header h4, header h5, header h6";return R(e),Le(e),gsap.utils.toArray("header .content").length>0&&gsap.set("header .content",{yPercent:105,autoAlpha:0}),gsap.utils.toArray("header p, header .button:not(form .button), header .button_icon, header .exely-wrapper").forEach(n=>{oe(n),gsap.set(n,{yPercent:105,autoAlpha:0})}),X("header img[scroll-reveal]"),Q("header [scroll-parallax]"),J("header [scroll-scrub]"),W("header [hover-zoom]"),()=>{}})}function G(e){if(g.add("(prefers-reduced-motion: no-preference)",()=>{X("section img[scroll-reveal]"),Q("section [scroll-parallax]"),J("section [scroll-scrub]"),W("section [hover-zoom]");const t="section h1:not([no-animate]), section h2:not([no-animate]), section h3:not([no-animate]), section h4:not([no-animate]), section h5:not([no-animate]), section h6:not([no-animate])";return R(t),ee(t),A("section p:not([no-animate]):not(section:has([offers-table]) p)",50),A("section .exely-wrapper",25),A("section ul:not([no-animate])",25),A("section .tag",50),A("section .button, section .button_icon",75),A("section .testimonial18_card",25),A("section [data-scroll-reveal]",50),()=>{}}),e.querySelector("[room-show]")&&Ee(e),e.querySelector("[data-menu-list-category]")&&ke(e),e.querySelector("[data-service-booking-form]")){e.querySelector(".section_cta27 .button").setAttribute("service-form-btn","");let t=!1;gsap.utils.toArray("[service-form-btn]").forEach(o=>{o.addEventListener("click",()=>{t||(Te(e),t=!0),L.play()})})}Pe(e)}function ge(){const e=document.querySelector("[cookies-consent]");if(!e||ye("cookiesAccepted")==="true")return;const t=gsap.timeline({paused:!0,delay:1});t.set(e,{display:"none"}).set(e,{display:"block",yPercent:10}).to(e,{autoAlpha:1,yPercent:0,duration:.6,ease:"power2.out"}),t.play();const o=e.querySelector(".button");if(o){const n=window.location.pathname.includes("/en")?"Accept":"Приемам";y(o,n).addEventListener("click",()=>{we("cookiesAccepted","true",365),t.reverse()})}}function we(e,t,o){const n=new Date;n.setTime(n.getTime()+o*24*60*60*1e3),document.cookie=`${e}=${t}; expires=${n.toUTCString()}; path=/; SameSite=Lax`}function ye(e){var t;return(t=document.cookie.split("; ").find(o=>o.startsWith(e+"=")))==null?void 0:t.split("=")[1]}function be(){const e=document.querySelector("[promo-banner]");if(!e)return;const t="promoBannerClosed",o=60*60*1e3,n=localStorage.getItem(t);if(n&&Date.now()-parseInt(n,10)<o){gsap.set(e,{autoAlpha:0,display:"none"});return}gsap.set(e,{yPercent:100,autoAlpha:1,display:"block"});const r=ScrollTrigger.create({trigger:"body",start:"top+=10% top",onEnter:()=>{gsap.delayedCall(.2,()=>{gsap.to(e,{yPercent:0,duration:.6,ease:"power2.out",onComplete:()=>{r.kill()}})})}}),i=document.querySelector(".banner8_close-button");if(i){const s=window.location.pathname.includes("/en")?"Close":"Затвори";y(i,s).addEventListener("click",()=>{gsap.to(e,{yPercent:100,duration:.6,ease:"power2.out",onComplete:()=>{gsap.set(e,{autoAlpha:0,display:"none"}),localStorage.setItem(t,Date.now().toString())}})})}}function ve(){const e=document.querySelector("[newsletter-pop-up]");if(!e)return;const t="newsletterPopUpClosed",o=24*60*60*1e3,n=localStorage.getItem(t);if(n&&Date.now()-parseInt(n,10)<o){gsap.set(e,{autoAlpha:0,display:"none"});return}gsap.set(e,{autoAlpha:0,display:"flex"}),gsap.delayedCall(90,()=>{gsap.to(e,{autoAlpha:1,duration:.6,ease:"power2.out"})});const r=e.querySelector("input");if(r){const s=window.location.pathname.includes("/en")?"Please enter your email address.":"Моля, въведете своя имейл адрес.";r.title=s}const i=document.querySelector(".newsletter_close-button");if(i){const s=window.location.pathname.includes("/en")?"Close":"Затвори";y(i,s).addEventListener("click",()=>{gsap.to(e,{autoAlpha:0,duration:.6,ease:"power2.out",onComplete:()=>{gsap.set(e,{display:"none"}),localStorage.setItem(t,Date.now().toString())}})})}}function K(e){gsap.set(e,{autoAlpha:0});const t=gsap.timeline({paused:!0});t.to(e,{autoAlpha:1,duration:.3,ease:"power2.out"}),ScrollTrigger.create({trigger:"body",start:"top+=8% top",onEnter:()=>t.play(),onLeaveBack:()=>t.reverse()})}function Se(e){e.addEventListener("click",()=>{l&&l.scrollTo(0,{duration:1,easing:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,lock:!0})}),g.add("(any-pointer: fine)",t=>{const o=gsap.timeline({paused:!0});return gsap.utils.toArray(".back-to-top-arrow div").forEach(n=>{o.to(n,{yPercent:-100,duration:.3,ease:"none"},0)}),t.add("onMouseEnter",()=>{o.restart()}),e.addEventListener("mouseenter",t.onMouseEnter),t.add("onMouseLeave",()=>{o.reverse()}),e.addEventListener("mouseleave",t.onMouseLeave),()=>{e.removeEventListener("mouseenter",t.onMouseEnter),e.removeEventListener("mouseleave",t.onMouseLeave)}})}function Y(e){const t=e.hasAttribute("hide-footer");h&&(t?h.classList.add("hide"):h.classList.contains("hide")&&h.classList.remove("hide"))}function Ae(e){Y(e);const t=h==null?void 0:h.querySelector("input#email-field-newsletter-footer"),o=h==null?void 0:h.querySelector("[subscribe-text]");if(t){const n=window.location.pathname.includes("/en")?"Please enter your email address.":"Моля, въведете своя имейл адрес.";t.title=n}t==null||t.addEventListener("focus",()=>{gsap.to(o,{autoAlpha:1,duration:.6,ease:"power2.out"})}),t==null||t.addEventListener("blur",()=>{gsap.to(o,{autoAlpha:0,duration:.6,ease:"power2.out"})})}function Ee(e){var r;const t=(r=e.querySelector("[room-show]"))==null?void 0:r.getAttribute("room-show");t!=="all"&&e.querySelectorAll("[room-type]").forEach(s=>{s.getAttribute("room-type")!==t&&s.remove()});const o=e.querySelectorAll("[room-name]"),n=e.querySelectorAll("[row-room-name]");o.forEach(i=>{n.forEach(s=>{const c=i.getAttribute("room-name"),u=s.getAttribute("row-room-name");c===u&&(s.href=i.href,s.innerHTML=i.innerHTML)})}),Z(e,"[row-top]","[row-top-item]"),window.site.pricingRows&&window.site.pricingRows.forEach(i=>{Z(e,`[${i}]`,`[${i}-item]`)})}function Z(e,t,o){var s;const n=e.querySelector(t);if(!n)return;const r=e.querySelectorAll(o);(s=r[0])==null||s.classList.add("is-first");let i="";r.forEach(c=>{n.appendChild(c),i+="1fr "}),g.add({isDesktop:"(min-width: 768px)",isTablet:"(max-width: 767px) and (min-width: 479px)",isMobileLandscape:"(max-width: 767px) and (orientation: landscape)",isMobile:"(max-width: 478px)"},c=>{const{isDesktop:u}=c.conditions;return u?gsap.set(n,{gridTemplateColumns:"1.5fr "+i}):gsap.set(n,{gridTemplateColumns:i,gridAutoColumns:"auto"}),()=>{}})}function ke(e){const t=e.querySelectorAll("[data-menu-list-category]"),o=e.querySelectorAll("[data-menu-item-category]");t.forEach(n=>{const r=n.getAttribute("data-menu-list-category");o.forEach(i=>{const s=i.getAttribute("data-menu-item-category");r===s&&n.appendChild(i)})})}function Te(e){const t=e.querySelector("[data-service-booking-form] select");if(t){const n=e.querySelector("[data-service-booking-form] .form-options");n.querySelectorAll("option").forEach(i=>{t.appendChild(i)}),n==null||n.remove()}const o=e.querySelector(".contact-modal4_close-button");if(o){const n=window.location.pathname.includes("/en")?"Close":"Затвори";y(o,n)}gsap.utils.toArray(".form_field-wrapper").forEach(n=>{const r=n.querySelector("label"),i=n.querySelector("input"),s=n.querySelector("select"),c=n.querySelector("textarea");i?r.setAttribute("for",i.getAttribute("id")):s?r.setAttribute("for",s.getAttribute("id")):c&&r.setAttribute("for",c.getAttribute("id"))}),L=xe(),gsap.utils.toArray(".contact-modal4_close-button, .contact-modal4_background-overlay").forEach(n=>{n.addEventListener("click",()=>{L.reverse()})})}function xe(){const t="circ.inOut",o="power2.out",n="[data-service-booking-form]",r=".contact-modal4_background-overlay",i=".header69_component, .header119_component",s=".contact-modal4-content",c=".contact-modal4_close-button",u=gsap.timeline({paused:!0,onStart:()=>{l&&l.stop()},onReverseComplete:()=>{l&&l.start()}});return u.set(n,{display:"none",autoAlpha:0}).set(n,{display:"flex",autoAlpha:1,xPercent:100}).set(r,{display:"block",autoAlpha:0}).set(s,{autoAlpha:0,yPercent:10}).set(c,{autoAlpha:0}).set(i,{zIndex:1}).set(i,{zIndex:999}).to(n,{xPercent:0,duration:.6,ease:t}).to(r,{autoAlpha:1,duration:.6/2,ease:o}).to(s,{autoAlpha:1,yPercent:0,duration:.6/2,ease:o},"<").to(c,{autoAlpha:1,duration:.6/2,ease:o},"<"),u}function J(e){gsap.utils.toArray(e).forEach(t=>{const o=t.getAttribute("data-scroll-scrub-amount"),n=parseFloat(o)||10,s=`${t.getAttribute("scroll-scrub")==="up"?"-":""}${n}%`;gsap.timeline({scrollTrigger:{trigger:t.parentElement,start:"top bottom",end:"bottom top",scrub:2}}).to(t,{y:s,ease:"power2.out"})})}function Q(e){gsap.utils.toArray(e).forEach(o=>{gsap.set(o,{y:"-10%"}),gsap.timeline({scrollTrigger:{trigger:o.parentElement,start:"top bottom",end:"bottom top",scrub:!0}}).to(o,{y:"10%",ease:"none"})})}function X(e){gsap.utils.toArray(e).forEach(t=>{gsap.timeline({scrollTrigger:{trigger:t,start:"top 85%",toggleActions:"play none none none"},onComplete:()=>{gsap.set(t,{clearProps:"all"})}}).fromTo(t,{scale:1.2},{scale:1,duration:1.8,ease:"power2.out"})})}function A(e,t){gsap.utils.toArray(e).forEach(o=>{oe(o),gsap.timeline({scrollTrigger:{trigger:o,start:"top bottom",toggleActions:"play none none none"}}).fromTo(o,{yPercent:t,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.6,ease:"power2.out"})})}function ee(e){gsap.utils.toArray(e).forEach(t=>{const o=t.classList;if(o.contains("w-dyn-bind-empty")||o.contains("hide"))return;gsap.set(t,{overflow:"clip",overflowClipMargin:"2rem"});const n=t.querySelectorAll(".line, .word");gsap.timeline({scrollTrigger:{trigger:t,start:"top bottom",toggleActions:"play none none none"}}).fromTo(n,{yPercent:100,autoAlpha:0},{yPercent:0,autoAlpha:1,duration:.6,ease:"power2.out",stagger:{each:.06}})})}function Le(e){gsap.utils.toArray(e).forEach(t=>{const o=t.classList;o.contains("w-dyn-bind-empty")||o.contains("hide")||gsap.utils.toArray(t.querySelectorAll(".line, .word")).forEach(n=>{gsap.set(n,{overflow:"clip",overflowClipMargin:"2rem"});const r=document.createElement("span");r.classList.add("content"),r.innerHTML=n.innerHTML,n.innerHTML="",n.appendChild(r),gsap.set(r,{display:"inline-block"})})})}function R(e,t="lines"){gsap.utils.toArray(e).forEach(o=>{const n=o.classList;if(n.contains("w-dyn-bind-empty")||n.contains("hide"))return;const r=new SplitType(o,{tagName:"span",types:t});F[e]=r})}function qe(){window.addEventListener("resize",()=>{const e=window.innerWidth;if(N!==e){N=e;const t=Object.entries(F);if(!t.length)return;t.forEach(([n,r])=>r.revert());const o="section h1:not([no-animate]), section h2:not([no-animate]), section h3:not([no-animate]), section h4:not([no-animate]), section h5:not([no-animate]), section h6:not([no-animate])";R(o),ee(o)}})}function te(){var e,t;(e=document.querySelector(".x-tl-booking-widget-container"))==null||e.remove(),(t=document.getElementById("tl-icon-key"))==null||t.remove()}function Pe(e){e.querySelectorAll("[remove]").forEach(o=>{o.remove()})}function W(e){g.add("(any-pointer: fine) and (prefers-reduced-motion: no-preference)",t=>(gsap.utils.toArray(e).forEach(o=>{const n=o.querySelector("img");if(!n)return()=>{};t.add("onMouseEnter",()=>{gsap.to(n,{scale:1.02,duration:.6,ease:"power2.out"})}),o.addEventListener("mouseenter",t.onMouseEnter),t.add("onMouseLeave",()=>{gsap.to(n,{scale:1,duration:.6,ease:"power2.out"})}),o.addEventListener("mouseleave",t.onMouseLeave)}),()=>{parent.removeEventListener("mouseenter",t.onMouseEnter),parent.removeEventListener("mouseleave",t.onMouseLeave)}))}function oe(e){const t=document.createElement("div");t.classList.add("overflowWrapper"),gsap.set(t,{overflow:"hidden",position:"relative",margin:0,padding:0}),e.parentElement.insertBefore(t,e),t.appendChild(e)}function y(e,t){const o=document.createElement("button");return gsap.set(o,{outline:"none",boxShadow:"none"}),o.title=t,e.id&&(o.id=e.id),o.classList=e.classList,o.innerHTML=e.innerHTML,e.parentNode.replaceChild(o,e),o}function Me(e){e.forEach((t,o)=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-slider-category-item");n&&l&&l.scrollTo(`#${n}`,{offset:-96,immediate:!0}),v&&v.slideTo(o,300,!0)})})}function Ce(e){const t=e.querySelectorAll("[slider-category-section]"),o=e.querySelectorAll(".slider-categories-item");Me(o),o[0].classList.add("is-active"),t.forEach((n,r)=>{ScrollTrigger.create({trigger:n,start:"top 35%",end:"bottom 30%",onEnter:()=>ne(r,o),onEnterBack:()=>ne(r,o)})})}function ne(e,t){t.forEach((o,n)=>{n===e?o.classList.add("is-active"):o.classList.remove("is-active")}),v&&v.slideTo(e,300,!0)}function D(e){if(!document.querySelector("[swiper-js-code]"))return;e.next.container.querySelector(".swiper.is-rooms")&&Be(e),e.next.container.querySelector(".swiper.is-menu")&&Oe(e)}function Oe(e){const t=e.next.container.querySelector(".swiper-btn-prev"),o=e.next.container.querySelector(".swiper-btn-next"),n=window.location.pathname.includes("/en")?"Previous":"Предишна секция",r=window.location.pathname.includes("/en")?"Next":"Следваща секция";y(t,n),y(o,r),v=Ie(e.next.namespace),Ce(e.next.container)}function Ie(e){return new Swiper(`[data-barba-namespace=${e}] .swiper.is-menu`,{freeMode:{enabled:!0,sticky:!0},slidesPerView:"auto",spaceBetween:24,grabCursor:!0,keyboard:!0,mousewheel:{forceToAxis:!0},preventClicks:!0,preventClicksPropagation:!0,updateOnWindowResize:!0,navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"}})}function Be(e){const t=e.next.container.querySelector(".swiper-btn-prev"),o=e.next.container.querySelector(".swiper-btn-next"),n=window.location.pathname.includes("/en")?"Previous":"Предишен",r=window.location.pathname.includes("/en")?"Next":"Следващ";y(t,n),y(o,r),q=Re(e.next.namespace)}function Re(e){return new Swiper(`[data-barba-namespace=${e}] .swiper.is-rooms`,{rewind:!0,speed:500,slidesPerView:1.15,spaceBetween:24,grabCursor:!0,keyboard:!0,mousewheel:{forceToAxis:!0},preventClicks:!0,preventClicksPropagation:!0,updateOnWindowResize:!0,navigation:{nextEl:".swiper-btn-next",prevEl:".swiper-btn-prev"},pagination:{el:`[data-barba-namespace=${e}] .swiper-bullet-wrapper`,bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0},breakpoints:{479:{slidesPerView:3.15,spaceBetween:24},768:{slidesPerView:2.15,spaceBetween:32},992:{slidesPerView:3.15,spaceBetween:48}}})}function re(e,t={}){return new Promise((o,n)=>{const r=document.createElement("script");r.src=e,Object.keys(t).forEach(i=>{r.setAttribute(i,t[i])}),r.onload=()=>o(),r.onerror=()=>n(new Error(`Failed to load script: ${e}`)),document.body.appendChild(r)})}function ie(e){C=!0,H&&_(e.next.container),e.next.container.querySelector(".swiper")&&re("https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js",{"swiper-js-code":""}).then(()=>{O=!0,D(e)}),T(()=>be()),T(()=>{const o=document.querySelector(".back-to-top");o&&(K(o),Se(o))}),T(()=>ve()),T(()=>Ae(e.next.container))}function T(e){"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,300)}function _(e){initBookingEngine();const t=e.querySelector(".exely-overlay");if(!t)return;gsap.set(t,{autoAlpha:1});const o=e.querySelector(".be-container");if(!o)return;function n(){return o.getElementsByTagName("iframe").length>0?(requestAnimationFrame(()=>{gsap.to(t,{delay:1.2,autoAlpha:0,duration:.6,ease:"power2.out"})}),r.disconnect(),!0):!1}if(n())return;const r=new MutationObserver((i,s)=>{for(let c=0;c<i.length;c++)if(i[c].addedNodes.length&&n()){s.disconnect();return}});r.observe(o,{childList:!0})}function We(){De(e=>{e?(console.log("Opened in Webflow Editor"),l&&(l.destroy(),console.log("Destroy Lenis")),barba.destroy(),console.log("Destroy Barba")):console.log("no editor")})}function De(e){if(document.documentElement.classList.contains("w-editor")){e(!0);return}let t=null;const o=new MutationObserver((n,r)=>{for(let i of n)if(i.attributeName==="class"&&document.documentElement.classList.contains("w-editor")){r.disconnect(),clearTimeout(t),e(!0);return}});o.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),t=setTimeout(()=>{o.disconnect()},7e3)}function _e(e){const{Webflow:t}=window;if(!t||!("destroy"in t)||!("ready"in t)||!("require"in t))return;let n=new DOMParser().parseFromString(e.next.html,"text/html"),r=$(n).find("html").attr("data-wf-page");$("html").attr("data-wf-page",r),t.destroy(),t.ready();const i=t.require("ix2");i&&i.init();const s=t.require("slider");s&&(s.redraw(),s.ready());const c=t.require("tabs");c&&c.redraw();const u=t.require("lightbox");u&&u.ready()}function Fe(){ScrollTrigger.getAll().forEach(e=>e.kill()),window.dispatchEvent(new Event("resize")),gsap.matchMediaRefresh()}})();
//# sourceMappingURL=index-wqKxuSBC.js.map
